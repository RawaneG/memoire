{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\snsowr\\\\Desktop\\\\Code\\\\OWID\\\\frontend\\\\src\\\\components\\\\OfflineNotice.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Wifi, WifiOff, X, AlertTriangle } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OfflineNotice = () => {\n  _s();\n  const [isOffline, setIsOffline] = useState(false);\n  const [showNotice, setShowNotice] = useState(false);\n  const [isDismissed, setIsDismissed] = useState(false);\n  useEffect(() => {\n    // Check if backend is available\n    const checkBackendConnection = async () => {\n      try {\n        const response = await fetch('http://localhost:5001/health', {\n          method: 'GET',\n          timeout: 3000\n        });\n        if (response.ok) {\n          setIsOffline(false);\n          setShowNotice(false);\n        } else {\n          throw new Error('Backend not responding');\n        }\n      } catch (error) {\n        setIsOffline(true);\n        if (!isDismissed) {\n          setShowNotice(true);\n        }\n      }\n    };\n\n    // Initial check\n    checkBackendConnection();\n\n    // Check periodically\n    const interval = setInterval(checkBackendConnection, 30000); // Check every 30 seconds\n\n    return () => clearInterval(interval);\n  }, [isDismissed]);\n  const handleDismiss = () => {\n    setIsDismissed(true);\n    setShowNotice(false);\n  };\n  const noticeVariants = {\n    hidden: {\n      opacity: 0,\n      y: -100,\n      scale: 0.9\n    },\n    visible: {\n      opacity: 1,\n      y: 0,\n      scale: 1,\n      transition: {\n        type: \"spring\",\n        stiffness: 300,\n        damping: 30\n      }\n    },\n    exit: {\n      opacity: 0,\n      y: -100,\n      scale: 0.9,\n      transition: {\n        duration: 0.3\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(AnimatePresence, {\n    children: [showNotice && isOffline && /*#__PURE__*/_jsxDEV(motion.div, {\n      variants: noticeVariants,\n      initial: \"hidden\",\n      animate: \"visible\",\n      exit: \"exit\",\n      className: \"fixed top-4 right-4 z-50 max-w-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-morphism rounded-2xl p-4 border border-orange-500/30 bg-orange-500/10\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-2 bg-orange-500/20 rounded-xl\",\n              children: /*#__PURE__*/_jsxDEV(WifiOff, {\n                className: \"w-5 h-5 text-orange-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-sm font-semibold text-orange-400\",\n                children: \"Demo Mode Active\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleDismiss,\n                className: \"p-1 hover:bg-white/10 rounded-lg transition-colors\",\n                children: /*#__PURE__*/_jsxDEV(X, {\n                  className: \"w-4 h-4 text-white/60 hover:text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-white/80 mb-3\",\n              children: \"Backend server is not running. Using demo data for visualization.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2 text-xs text-white/60\",\n              children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n                className: \"w-3 h-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Predictions are simulated\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this), isOffline && isDismissed && /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0,\n        scale: 0\n      },\n      animate: {\n        opacity: 1,\n        scale: 1\n      },\n      className: \"fixed bottom-4 right-4 z-40\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass-morphism rounded-full p-3 border border-orange-500/30 bg-orange-500/10\",\n        children: /*#__PURE__*/_jsxDEV(WifiOff, {\n          className: \"w-5 h-5 text-orange-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n_s(OfflineNotice, \"SurqDT/EWPYwuKqHQ+s/EIx26QY=\");\n_c = OfflineNotice;\nexport default OfflineNotice;\nvar _c;\n$RefreshReg$(_c, \"OfflineNotice\");","map":{"version":3,"names":["React","useState","useEffect","motion","AnimatePresence","Wifi","WifiOff","X","AlertTriangle","jsxDEV","_jsxDEV","OfflineNotice","_s","isOffline","setIsOffline","showNotice","setShowNotice","isDismissed","setIsDismissed","checkBackendConnection","response","fetch","method","timeout","ok","Error","error","interval","setInterval","clearInterval","handleDismiss","noticeVariants","hidden","opacity","y","scale","visible","transition","type","stiffness","damping","exit","duration","children","div","variants","initial","animate","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/snsowr/Desktop/Code/OWID/frontend/src/components/OfflineNotice.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Wifi, WifiOff, X, AlertTriangle } from 'lucide-react';\n\nconst OfflineNotice = () => {\n  const [isOffline, setIsOffline] = useState(false);\n  const [showNotice, setShowNotice] = useState(false);\n  const [isDismissed, setIsDismissed] = useState(false);\n\n  useEffect(() => {\n    // Check if backend is available\n    const checkBackendConnection = async () => {\n      try {\n        const response = await fetch('http://localhost:5001/health', {\n          method: 'GET',\n          timeout: 3000\n        });\n        \n        if (response.ok) {\n          setIsOffline(false);\n          setShowNotice(false);\n        } else {\n          throw new Error('Backend not responding');\n        }\n      } catch (error) {\n        setIsOffline(true);\n        if (!isDismissed) {\n          setShowNotice(true);\n        }\n      }\n    };\n\n    // Initial check\n    checkBackendConnection();\n\n    // Check periodically\n    const interval = setInterval(checkBackendConnection, 30000); // Check every 30 seconds\n\n    return () => clearInterval(interval);\n  }, [isDismissed]);\n\n  const handleDismiss = () => {\n    setIsDismissed(true);\n    setShowNotice(false);\n  };\n\n  const noticeVariants = {\n    hidden: { \n      opacity: 0, \n      y: -100,\n      scale: 0.9\n    },\n    visible: { \n      opacity: 1, \n      y: 0,\n      scale: 1,\n      transition: {\n        type: \"spring\",\n        stiffness: 300,\n        damping: 30\n      }\n    },\n    exit: { \n      opacity: 0, \n      y: -100,\n      scale: 0.9,\n      transition: {\n        duration: 0.3\n      }\n    }\n  };\n\n  return (\n    <AnimatePresence>\n      {showNotice && isOffline && (\n        <motion.div\n          variants={noticeVariants}\n          initial=\"hidden\"\n          animate=\"visible\"\n          exit=\"exit\"\n          className=\"fixed top-4 right-4 z-50 max-w-sm\"\n        >\n          <div className=\"glass-morphism rounded-2xl p-4 border border-orange-500/30 bg-orange-500/10\">\n            <div className=\"flex items-start space-x-3\">\n              <div className=\"flex-shrink-0\">\n                <div className=\"p-2 bg-orange-500/20 rounded-xl\">\n                  <WifiOff className=\"w-5 h-5 text-orange-400\" />\n                </div>\n              </div>\n              \n              <div className=\"flex-1 min-w-0\">\n                <div className=\"flex items-center justify-between mb-1\">\n                  <h3 className=\"text-sm font-semibold text-orange-400\">\n                    Demo Mode Active\n                  </h3>\n                  <button\n                    onClick={handleDismiss}\n                    className=\"p-1 hover:bg-white/10 rounded-lg transition-colors\"\n                  >\n                    <X className=\"w-4 h-4 text-white/60 hover:text-white\" />\n                  </button>\n                </div>\n                \n                <p className=\"text-sm text-white/80 mb-3\">\n                  Backend server is not running. Using demo data for visualization.\n                </p>\n                \n                <div className=\"flex items-center space-x-2 text-xs text-white/60\">\n                  <AlertTriangle className=\"w-3 h-3\" />\n                  <span>Predictions are simulated</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </motion.div>\n      )}\n\n      {/* Small persistent indicator when offline */}\n      {isOffline && isDismissed && (\n        <motion.div\n          initial={{ opacity: 0, scale: 0 }}\n          animate={{ opacity: 1, scale: 1 }}\n          className=\"fixed bottom-4 right-4 z-40\"\n        >\n          <div className=\"glass-morphism rounded-full p-3 border border-orange-500/30 bg-orange-500/10\">\n            <WifiOff className=\"w-5 h-5 text-orange-400\" />\n          </div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n};\n\nexport default OfflineNotice;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}